# Quick Test Guide - Voice Agent Diagnostics

## The ONE Thing You Need to Know

**When the voice agent responds, you should HEAR this at the start:**

```
[DEBUG: Using Agent ID 46f9a66e]
```

**If you hear that ID (`46f9a66e`), it IS using Agent_66.**
**If you hear a different ID, it's NOT using Agent_66.**

That's it. Problem solved or identified in 5 seconds.

---

## Quick Test (2 minutes)

### 1. Check Expected ID
```bash
./verify_agent_id.sh
```

### 2. Start Log Monitor
```bash
./monitor_debug.sh
```

### 3. Connect & Test
1. Open: http://localhost:9000/voice-agent-selector-debug.html
2. Select Agent_66
3. Click Connect
4. Ask: "What do you know about this project?"

### 4. Listen
You should hear:
```
[DEBUG: Using Agent ID 46f9a66e] [response about project]
```

---

## What to Report

### If Working
‚úÖ "I hear `46f9a66e` and the agent has Agent_66's knowledge"

### If Not Working
‚ùå Report what you heard:
- "I hear a different ID: `XXXXXXXX`"
- "I don't hear any debug prefix"
- "Agent selection message received: YES/NO" (from logs)
- "Agent switch attempted: YES/NO" (from logs)

---

## Key Log Searches

```bash
# Was agent selection message received?
grep "üì® AGENT SELECTION MESSAGE RECEIVED" voice_agent_debug.log

# Was agent switch attempted?
grep "üîÑ AGENT SWITCH REQUEST" voice_agent_debug.log

# Which agent is processing queries?
grep "üé§ Current Agent ID" voice_agent_debug.log | tail -5

# Which agent generated responses?
grep "‚úÖ RESPONSE GENERATED BY AGENT" voice_agent_debug.log | tail -5
```

---

## Files Reference

- `DIAGNOSTIC_SUMMARY.md` - Complete diagnostic details
- `DEBUG_DIAGNOSTICS.md` - All logging features explained
- `monitor_debug.sh` - Real-time log monitoring
- `verify_agent_id.sh` - Check expected agent ID
- `voice_agent_debug.log` - Full logs

---

## Critical Fix Applied

**OLD PROBLEM**: Two voice agent processes were running - you were connecting to the old one (before memory fix)

**FIX APPLIED**:
1. ‚úÖ Killed old process (PID 25751)
2. ‚úÖ Only new process running (PID 31884) with full diagnostics
3. ‚úÖ Added spoken agent ID to EVERY response
4. ‚úÖ Added comprehensive logging at every step

**TEST**: Connect now and listen for the agent ID!
